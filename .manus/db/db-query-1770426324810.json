{
  "query": "\nCREATE TABLE IF NOT EXISTS sle_exam_sessions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  examType ENUM('reading', 'writing', 'oral') NOT NULL,\n  level ENUM('A', 'B', 'C') NOT NULL,\n  status ENUM('in_progress', 'completed', 'abandoned') DEFAULT 'in_progress',\n  score DECIMAL(5,2),\n  maxScore DECIMAL(5,2),\n  timeLimit INT NOT NULL,\n  timeUsed INT DEFAULT 0,\n  answers JSON,\n  feedback JSON,\n  startedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  completedAt TIMESTAMP NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS content_analytics (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  contentType ENUM('course', 'module', 'lesson') NOT NULL,\n  contentId INT NOT NULL,\n  totalViews INT DEFAULT 0,\n  uniqueViewers INT DEFAULT 0,\n  avgTimeSpent INT DEFAULT 0,\n  completionRate DECIMAL(5,2) DEFAULT 0,\n  dropOffRate DECIMAL(5,2) DEFAULT 0,\n  replayCount INT DEFAULT 0,\n  skipRate DECIMAL(5,2) DEFAULT 0,\n  rating DECIMAL(3,2) DEFAULT 0,\n  lastCalculated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS onboarding_config (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  stepKey VARCHAR(100) NOT NULL UNIQUE,\n  stepTitle VARCHAR(255) NOT NULL,\n  stepDescription TEXT,\n  isEnabled TINYINT(1) DEFAULT 1,\n  sortOrder INT DEFAULT 0,\n  actionType ENUM('email', 'notification', 'course_assign', 'checklist', 'redirect') NOT NULL,\n  actionConfig JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS org_members (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  organizationId INT NOT NULL,\n  userId INT NOT NULL,\n  role ENUM('admin', 'manager', 'member') DEFAULT 'member',\n  status ENUM('active', 'invited', 'inactive') DEFAULT 'invited',\n  invitedBy INT,\n  joinedAt TIMESTAMP NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  UNIQUE KEY unique_org_member (organizationId, userId)\n);\n\nCREATE TABLE IF NOT EXISTS org_course_assignments (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  organizationId INT NOT NULL,\n  courseId INT NOT NULL,\n  assignedBy INT NOT NULL,\n  assignedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  deadline TIMESTAMP NULL,\n  isRequired TINYINT(1) DEFAULT 0\n);\n\nCREATE TABLE IF NOT EXISTS webhook_events_log (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  eventId VARCHAR(255) NOT NULL UNIQUE,\n  eventType VARCHAR(100) NOT NULL,\n  source VARCHAR(50) DEFAULT 'stripe',\n  payload JSON,\n  status ENUM('received', 'processed', 'failed') DEFAULT 'received',\n  errorMessage TEXT,\n  processedAt TIMESTAMP NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n)\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user cYPAHDVF1MZtM6S.6044338ada58 --database cwh3JmcrqYgAZTUAinEMzM --execute \nCREATE TABLE IF NOT EXISTS sle_exam_sessions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  examType ENUM('reading', 'writing', 'oral') NOT NULL,\n  level ENUM('A', 'B', 'C') NOT NULL,\n  status ENUM('in_progress', 'completed', 'abandoned') DEFAULT 'in_progress',\n  score DECIMAL(5,2),\n  maxScore DECIMAL(5,2),\n  timeLimit INT NOT NULL,\n  timeUsed INT DEFAULT 0,\n  answers JSON,\n  feedback JSON,\n  startedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  completedAt TIMESTAMP NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS content_analytics (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  contentType ENUM('course', 'module', 'lesson') NOT NULL,\n  contentId INT NOT NULL,\n  totalViews INT DEFAULT 0,\n  uniqueViewers INT DEFAULT 0,\n  avgTimeSpent INT DEFAULT 0,\n  completionRate DECIMAL(5,2) DEFAULT 0,\n  dropOffRate DECIMAL(5,2) DEFAULT 0,\n  replayCount INT DEFAULT 0,\n  skipRate DECIMAL(5,2) DEFAULT 0,\n  rating DECIMAL(3,2) DEFAULT 0,\n  lastCalculated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS onboarding_config (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  stepKey VARCHAR(100) NOT NULL UNIQUE,\n  stepTitle VARCHAR(255) NOT NULL,\n  stepDescription TEXT,\n  isEnabled TINYINT(1) DEFAULT 1,\n  sortOrder INT DEFAULT 0,\n  actionType ENUM('email', 'notification', 'course_assign', 'checklist', 'redirect') NOT NULL,\n  actionConfig JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS org_members (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  organizationId INT NOT NULL,\n  userId INT NOT NULL,\n  role ENUM('admin', 'manager', 'member') DEFAULT 'member',\n  status ENUM('active', 'invited', 'inactive') DEFAULT 'invited',\n  invitedBy INT,\n  joinedAt TIMESTAMP NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  UNIQUE KEY unique_org_member (organizationId, userId)\n);\n\nCREATE TABLE IF NOT EXISTS org_course_assignments (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  organizationId INT NOT NULL,\n  courseId INT NOT NULL,\n  assignedBy INT NOT NULL,\n  assignedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  deadline TIMESTAMP NULL,\n  isRequired TINYINT(1) DEFAULT 0\n);\n\nCREATE TABLE IF NOT EXISTS webhook_events_log (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  eventId VARCHAR(255) NOT NULL UNIQUE,\n  eventType VARCHAR(100) NOT NULL,\n  source VARCHAR(50) DEFAULT 'stripe',\n  payload JSON,\n  status ENUM('received', 'processed', 'failed') DEFAULT 'received',\n  errorMessage TEXT,\n  processedAt TIMESTAMP NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n)\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 972
}