{
  "query": "CREATE TABLE IF NOT EXISTS role_permissions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  role VARCHAR(50) NOT NULL DEFAULT 'user',\n  module VARCHAR(100) NOT NULL,\n  action VARCHAR(100) NOT NULL,\n  allowed BOOLEAN DEFAULT TRUE,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  UNIQUE KEY uk_role_module_action (role, module, action),\n  INDEX idx_role (role)\n);\n\nCREATE TABLE IF NOT EXISTS email_templates (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(255) NOT NULL,\n  subject VARCHAR(500) NOT NULL DEFAULT '',\n  bodyHtml TEXT,\n  bodyText TEXT,\n  category VARCHAR(100) DEFAULT 'general',\n  variables TEXT DEFAULT '[]',\n  isActive BOOLEAN DEFAULT TRUE,\n  createdBy INT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_category (category),\n  INDEX idx_isActive (isActive)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user cYPAHDVF1MZtM6S.6044338ada58 --database cwh3JmcrqYgAZTUAinEMzM --execute CREATE TABLE IF NOT EXISTS role_permissions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  role VARCHAR(50) NOT NULL DEFAULT 'user',\n  module VARCHAR(100) NOT NULL,\n  action VARCHAR(100) NOT NULL,\n  allowed BOOLEAN DEFAULT TRUE,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  UNIQUE KEY uk_role_module_action (role, module, action),\n  INDEX idx_role (role)\n);\n\nCREATE TABLE IF NOT EXISTS email_templates (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(255) NOT NULL,\n  subject VARCHAR(500) NOT NULL DEFAULT '',\n  bodyHtml TEXT,\n  bodyText TEXT,\n  category VARCHAR(100) DEFAULT 'general',\n  variables TEXT DEFAULT '[]',\n  isActive BOOLEAN DEFAULT TRUE,\n  createdBy INT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_category (category),\n  INDEX idx_isActive (isActive)\n);",
  "returncode": 1,
  "logs": [
    "ERROR 1101 (42000) at line 13: BLOB/TEXT/JSON column 'variables' can't have a default value"
  ]
}